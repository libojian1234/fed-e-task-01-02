## 认识V8
- V8是一款主流的JavaScript执行引擎
- V8采用即时编译
- V8内存设限（64位系统1.5G,32位系统800M）（在64位系统中，当内存达到1.5G时，采用增量标记的算法进行垃圾回收，只需要50ms，而采用非增量标记的算法进行垃圾回收，就需要1s，所以官方以1.5G为限）

## V8垃圾回收策略
- 采用分代回收的思想
- 内存分为新生代、老生代
- 针对不同对象采用不同算法

## V8中常用GC算法
- 分代回收
- 空间复制
- 标记清除
- 标记整理
- 标记增量

## V8内存分配
- V8内存空间一分为二（新生代|老年代）
- 小空间用于存储新生代对象（64位系统32M | 32位系统16M）
- 新生代指的是存活时间较短的对象

## 新生代对象回收实现
- 回收过程采用复制算法 + 标记整理
- 新生代内存区分为2个等大小的空间
- 使用空间为From，空闲空间为To
- 活动对象存储于From空间
- 标记整理后将活动对象拷贝至To
- From与To交换空间完成释放

## 回收细节说明
- 拷贝过程中可能出现晋升（新生代晋升到老生代）
- 晋升就是将新生代对象移动至老生代
- 一轮GC还存活的新生代需要晋升
- To空间的使用率超过25%（就需要晋升）

## 老生代对象说明
- 老生代对象存放在老生代区域
- 64位操作系统1.4G，32位操作系统700
- 老生代对象就是指存活时间较长的对象

## 老生代对象回收实现
- 主要采用标记清除、标记整理、增量标记算法
- 首先使用标记清除完成垃圾空间的回收（主要）
- 采用标记整理进行空间优化
- 采用增量标记进行效率优化（程序执行和回收交替进行）

## 细节对比（老生代和新生代）
- 新生代区域垃圾回收使用空间换时间（from to）
- 老生代区域垃圾回收不适合复制算法（太大，时间长）